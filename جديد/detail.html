<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Volunteer Project Platform</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Free HTML Templates" name="keywords" />
    <meta content="Free HTML Templates" name="description" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Jost:wght@500;600;700&family=Open+Sans:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet" />
    <style>
      /* Loading spinner styles */
      .loading-spinner {
        display: flex;
        justify-content: center;
        padding: 40px;
        width: 100%;
      }
      
      .spinner-border {
        width: 3rem;
        height: 3rem;
        color: #17a2b8;
      }
      
      .error-message {
        text-align: center;
        padding: 50px;
        color: #dc3545;
        width: 100%;
      }
      
      /* Project detail styles */
      .project-header {
        position: relative;
        margin-bottom: 2rem;
      }
      
      .project-badge {
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(231, 76, 60, 0.9);
        color: white;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 1rem;
        font-weight: 600;
        z-index: 10;
      }
      
      .project-image {
        height: 450px;
        object-fit: cover;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      }
      
      .info-card {
        background: #17a2b8;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      }
      
      .info-card h3 {
        background: rgba(0, 0, 0, 0.1);
        padding: 15px 20px;
        margin: 0;
        color: white;
      }
      
      .info-item {
        padding: 15px 20px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        display: flex;
        justify-content: space-between;
      }
      
      .info-item:last-child {
        border-bottom: none;
      }
      
      .info-label {
        color: white;
        font-weight: 600;
      }
      
      .info-value {
        color: white;
        text-align: right;
      }
      
      .conditions-box {
        background: rgba(23, 162, 184, 0.1);
        border-left: 4px solid #17a2b8;
        padding: 15px;
        border-radius: 0 5px 5px 0;
        margin: 20px 0;
      }
      
      .contact-info {
        padding: 20px;
        background: rgba(23, 162, 184, 0.1);
        border-radius: 10px;
        margin-top: 20px;
      }
      
      .volunteer-btn {
        background: #17a2b8;
        color: white;
        font-weight: 600;
        padding: 12px 25px;
        border-radius: 50px;
        display: inline-block;
        margin-top: 20px;
        transition: all 0.3s;
        border: none;
        width: 100%;
        text-align: center;
      }
      
      .volunteer-btn:hover {
        background: #138496;
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        color: white;
        text-decoration: none;
      }
      
      .back-btn {
        background: #6c757d;
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        display: inline-block;
        margin-bottom: 20px;
        transition: all 0.3s;
      }
      
      .back-btn:hover {
        background: #5a6268;
        color: white;
        text-decoration: none;
        transform: translateY(-3px);
      }
      
      .project-description {
        line-height: 1.8;
        font-size: 1.1rem;
      }
    </style>
  </head>

  <body>
    <!-- Topbar Start -->
    <div class="container-fluid bg-dark">
      <div class="row py-2 px-lg-5">
        <div class="col-lg-6 text-center text-lg-left mb-2 mb-lg-0">
          <div class="d-inline-flex align-items-center text-white">
            <small><i class="fa fa-phone-alt mr-2"></i>+90 555 123 4567</small>
            <small class="px-3">|</small>
            <small
              ><i class="fa fa-envelope mr-2"></i>volunteer@aydin.edu.tr</small
            >
          </div>
        </div>
        <div class="col-lg-6 text-center text-lg-right">
          <div class="d-inline-flex align-items-center">
            <a
              class="text-white px-2"
              href="https://www.facebook.com/facebook"
              target="_blank"
              rel="noopener"
            >
              <i class="fab fa-facebook-f"></i>
            </a>
            <a
              class="text-white px-2"
              href="https://twitter.com/X"
              target="_blank"
              rel="noopener"
            >
              <i class="fab fa-twitter"></i>
            </a>
            <a
              class="text-white px-2"
              href="https://www.linkedin.com/company/linkedin/"
              target="_blank"
              rel="noopener"
            >
              <i class="fab fa-linkedin-in"></i>
            </a>
            <a
              class="text-white px-2"
              href="https://www.instagram.com/instagram?igsh=YW5xdnhuem9scG8x"
              target="_blank"
              rel="noopener"
            >
              <i class="fab fa-instagram"></i>
            </a>
            <a
              class="text-white pl-2"
              href="	https://www.youtube.com/user/youtube"
              target="_blank"
              rel="noopener"
            >
              <i class="fab fa-youtube"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
    <!-- Topbar End -->

    <!-- Navbar Start -->
    <div class="container-fluid p-0">
      <nav
        class="navbar navbar-expand-lg bg-white navbar-light py-3 py-lg-0 px-lg-5"
      >
        <a href="index.html" class="navbar-brand ml-lg-3">
          <h1 class="m-0 text-uppercase text-primary">
            <i class="fa fa-book-reader mr-3"></i>Volunteer Hub
          </h1>
        </a>
        <button
          type="button"
          class="navbar-toggler"
          data-toggle="collapse"
          data-target="#navbarCollapse"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-between px-lg-3"
          id="navbarCollapse"
        >
          <div class="navbar-nav mx-auto py-0">
            <a href="index.html" class="nav-item nav-link">Home</a>
            <a href="about.html" class="nav-item nav-link">About</a>
            <a href="project.html" class="nav-item nav-link">Projects</a>
            <a href="feature.html" class="nav-item nav-link">Our Features</a>
            <a href="contact.html" class="nav-item nav-link">Contact</a>
          </div>
          <a
            href="project.html"
            class="btn btn-secondary py-2 px-4 d-none d-lg-block"
            >Explore Projects</a
          >
        </div>
      </nav>
    </div>
    <!-- Navbar End -->

    <!-- Header Start -->
    <div
      class="jumbotron jumbotron-fluid page-header position-relative overlay-bottom"
      style="margin-bottom: 90px"
    >
      <div class="container text-center py-5">
        <h1 class="text-white display-1">Project Detail</h1>
        <div class="d-inline-flex text-white mb-5">
          <p class="m-0 text-uppercase">
            <a class="text-white" href="">Home</a>
          </p>
          <i class="fa fa-angle-double-right pt-1 px-3"></i>
          <p class="m-0 text-uppercase">Project Detail</p>
        </div>
        <h5 class="text-white lead mt-3">
          Discover ways to support your community today.
        </h5>
      </div>
    </div>
    <!-- Header End -->

    <!-- Detail Start -->
    <div class="container-fluid py-5">
      <div class="container py-5">
        <div class="loading-spinner" id="loadingSpinner">
          <div class="spinner-border" role="status">
            <span class="sr-only">Loading...</span>
          </div>
          <p class="mt-3">Loading project details...</p>
        </div>
        
        <div class="error-message" id="errorMessage" style="display: none;">
          <i class="fas fa-exclamation-triangle fa-3x mb-3"></i>
          <h3>Project Not Found</h3>
          <p>We couldn't find the project you're looking for.</p>
          <a href="project.html" class="btn btn-primary mt-3">
            <i class="fa fa-arrow-left mr-2"></i> Browse Projects
          </a>
        </div>
        
        <div id="projectDetail" style="display: none;">
          <div class="row">
            <div class="col-lg-8">
              <div class="project-header">
                <div class="project-badge" id="projectBadge1">
                  Environment
                </div>
                <img 
                  id="projectImage" 
                  class="project-image w-100 mb-4"
                  src="" 
                  alt="Project Image"
                >
              </div>
              
              <a href="project.html" class="back-btn">
                <i class="fa fa-arrow-left mr-2"></i> Back to Projects
              </a>
              
              <div class="section-title position-relative mb-4">
                <h1 id="projectTitle">Community Beach Clean-up</h1>
              </div>
              
              <div class="project-description">
                <p id="projectDescription">
                  Join us for a meaningful day of environmental action at our
                  Community Beach Clean-up! Volunteers will work together to
                  remove litter, sort recyclables, and restore the natural beauty
                  of our coastal area. This project not only helps protect marine
                  wildlife but also raises awareness about pollution and
                  sustainability.
                </p>
                
                <p id="projectDescription2">
                  Whether you're passionate about the environment or just want to
                  contribute to a cleaner, healthier community, this event is a
                  great opportunity to make a difference. All necessary materials
                  will be provided, and no prior experience is required. Come
                  ready to get your hands a little dirty — and leave with a sense
                  of accomplishment and new friends!
                </p>
              </div>
              
              <div class="conditions-box">
                <h5><i class="fa fa-exclamation-circle mr-2"></i>Conditions:</h5>
                <p id="projectConditions">
                  Volunteers must bring gloves, stay for a minimum of 2 hours,
                  and follow safety guidelines during cleanup.
                </p>
              </div>
              
              <div class="contact-info">
                <h5><i class="fa fa-info-circle mr-2"></i>Contact Info:</h5>
                <p id="contactInfo">
                  <i class="fa fa-user mr-2"></i> Fatma Yılmaz<br>
                  <i class="fa fa-envelope mr-2"></i> fatma.yilmaz@example.com<br>
                  <i class="fa fa-phone-alt mr-2"></i> +90 555 678 9012
                </p>
              </div>
              
              <!-- <button class="volunteer-btn">
                <i class="fa fa-handshake mr-2"></i> Volunteer for This Project
              </button> -->
            </div>

            <div class="col-lg-4 mt-5 mt-lg-0">
              <div class="info-card mb-5">
                <h3><i class="fa fa-info-circle mr-2"></i>Project Information</h3>
                
                <div class="info-item">
                  <span class="info-label">Project Manager</span>
                  <span class="info-value" id="projectManager">Ayşe Kaya</span>
                </div>
                
                <div class="info-item">
                  <span class="info-label">Start Date</span>
                  <span class="info-value" id="startDate">2025-06-10</span>
                </div>
                
                <div class="info-item">
                  <span class="info-label">End Date</span>
                  <span class="info-value" id="endDate">2025-06-10</span>
                </div>
                
                <!-- <div class="info-item">
                  <span class="info-label">Time</span>
                  <span class="info-value" id="projectTime">10:00 - 16:00</span>
                </div> -->
                
                <div class="info-item">
                  <span class="info-label">Location</span>
                  <span class="info-value" id="projectLocation">Istanbul, Turkey</span>
                </div>
                
                <!-- <div class="info-item">
                  <span class="info-label">Category</span>
                  <span class="info-value" id="projectCategory">Environment</span>
                </div> -->
                
                <div class="info-item">
                  <span class="info-label">Execution Type</span>
                  <span class="info-value" id="executionType">On-site</span>
                </div>
                
                <div class="info-item">
                  <span class="info-label">Volunteers Needed</span>
                  <span class="info-value" id="volunteersNeeded">30</span>
                </div>
                
                <div class="info-item">
                  <span class="info-label">Status</span>
                  <span class="info-value" id="projectStatus">Available</span>
                </div>
              </div>
              
              <div class="text-center">
                <h5>Share This Project</h5>
                <div class="d-flex justify-content-center mt-3">
                  <a class="btn btn-outline-primary btn-square mr-2" href="#">
                    <i class="fab fa-facebook-f"></i>
                  </a>
                  <a class="btn btn-outline-info btn-square mr-2" href="#">
                    <i class="fab fa-twitter"></i>
                  </a>
                  <a class="btn btn-outline-danger btn-square mr-2" href="#">
                    <i class="fab fa-instagram"></i>
                  </a>
                  <a class="btn btn-outline-primary btn-square" href="#">
                    <i class="fab fa-linkedin-in"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Detail End -->

    <!-- Footer Start -->
    <div
      class="container-fluid position-relative overlay-top bg-dark text-white-50 py-5"
      style="margin-top: 90px"
    >
      <div class="container mt-5 pt-5">
        <div class="row">
          <div class="col-md-6 mb-5">
            <a href="index.html" class="navbar-brand">
              <h1 class="mt-n2 text-uppercase text-white">
                <i class="fa fa-book-reader mr-3"></i>Volunteer Hub
              </h1>
            </a>
            <p class="m-0">
              Volunteer Hub connects people with meaningful community projects.
              We aim to empower individuals through service, collaboration, and
              action.
            </p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 mb-5">
            <h3 class="text-white mb-4">Get In Touch</h3>
            <p><i class="fa fa-phone-alt mr-2"></i>+90 555 123 4567</p>
            <p><i class="fa fa-envelope mr-2"></i>volunteer@aydin.edu.tr</p>
            <div class="d-flex justify-content-start mt-4">
              <a
                class="text-white mr-4"
                href="https://twitter.com/X"
                target="_blank"
                rel="noopener"
                ><i class="fab fa-2x fa-twitter"></i
              ></a>
              <a
                class="text-white mr-4"
                href="https://www.facebook.com/facebook"
                target="_blank"
                rel="noopener"
                ><i class="fab fa-2x fa-facebook-f"></i
              ></a>
              <a
                class="text-white mr-4"
                href="https://www.linkedin.com/company/linkedin/"
                target="_blank"
                rel="noopener"
                ><i class="fab fa-2x fa-linkedin-in"></i
              ></a>
              <a
                class="text-white"
                href="https://www.instagram.com/instagram?igsh=YW5xdnhuem9scG8x"
                target="_blank"
                rel="noopener"
                ><i class="fab fa-2x fa-instagram"></i
              ></a>
            </div>
          </div>
          <div class="col-md-6 mb-5">
            <h3 class="text-white mb-4">Quick Links</h3>
            <div class="d-flex flex-column justify-content-start">
              <a class="text-white-50 mb-2" href="about.html"
                ><i class="fa fa-angle-right mr-2"></i>About Us</a
              >
              <a class="text-white-50 mb-2" href="project.html"
                ><i class="fa fa-angle-right mr-2"></i>Explore Projects</a
              >
              <a class="text-white-50 mb-2" href="contact.html"
                ><i class="fa fa-angle-right mr-2"></i>FAQs</a
              >
              <a class="text-white-50 mb-2" href="feature.html"
                ><i class="fa fa-angle-right mr-2"></i>Our Featrures</a
              >
              <a class="text-white-50" href="contact.html"
                ><i class="fa fa-angle-right mr-2"></i>Contact</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="container-fluid bg-dark text-white-50 border-top py-4"
      style="border-color: rgba(256, 256, 256, 0.1) !important"
    >
      <div class="container">
        <div class="row">
          <div class="col-md-6 text-center text-md-left mb-3 mb-md-0">
            <p class="m-0">
              © 2025 <a class="text-white" href="#">Volunteer Hub</a>. All
              Rights Reserved.
            </p>
          </div>
          <div class="col-md-6 text-center text-md-right">
            <p class="m-0">Built with ❤️ for community service</p>
          </div>
        </div>
      </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a
      href="#"
      class="btn btn-lg btn-primary rounded-0 btn-lg-square back-to-top"
      ><i class="fa fa-angle-double-up"></i
    ></a>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Project Detail Script -->
    <script>
      // Function to get URL parameters
      function getUrlParameter(name) {
        name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
        const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
        const results = regex.exec(location.search);
        return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
      }

      // Function to fetch project details
      async function fetchProjectDetails(projectId) {
        try {
          const response = await fetch(`http://localhost:3000/projects/${projectId}`);
          console.log("-----------------------------------response------", response)

          if (!response.ok) {
            throw new Error(`Failed to fetch project details. Status: ${response.status}`);
          }
          const data = await response.json();
          console.log("-----------------data------------------", data)
          return data;
        } catch (error) {
          console.error('Error fetching project details:', error);
          throw error;
        }
      }

      // Function to format date
      function formatDate(dateString) {
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        return new Date(dateString).toLocaleDateString('en-US', options);
      }

      // Function to format time
      function formatTime(timeString) {
        if (!timeString) return 'All day';
        return timeString;
      }

      // console.log("-----------------------------------", project)
      // Function to display project details
      function displayProjectDetails(project) {
      console.log("---------------project--------------------", project)

        // Set project title
        var oneProject = project.data
        console.log("---------------oneProject--------------------", oneProject)
        document.getElementById('projectTitle').textContent = oneProject.project_name;
        
        // Set project image
        const projectImage = document.getElementById('projectImage');
        projectImage.src = oneProject.photo || 'https://images.unsplash.com/photo-1523450001312-faa4e2e37f0f?q=80&w=1000';
        projectImage.alt = oneProject.project_name;
        
        // Set project description
        document.getElementById('projectDescription').textContent = oneProject.description || 'No description available.';
        document.getElementById('projectDescription2').textContent = oneProject.additional_info || '';
        
        // Set project manager
        document.getElementById('projectManager').textContent = oneProject.project_manager || 'Not specified';
        
        // Set dates
        document.getElementById('startDate').textContent = formatDate(oneProject.start_date);
        document.getElementById('endDate').textContent = formatDate(oneProject.end_date);
        
        // Set time
        // document.getElementById('projectTime').textContent = formatTime(oneProject.time);
        
        // Set location
        const city = oneProject.City ? oneProject.City.name : 'Not specified';
        const country = oneProject.Country ? oneProject.Country.name : '';
        document.getElementById('projectLocation').textContent = `${city}, ${country}`;
        
        // Set category
        // const category = oneProject.Category ? oneProject.Category.name : 'Not specified';
        // document.getElementById('projectCategory').textContent = category;
        // document.getElementById('projectBadge').textContent = category;
        
        // Set execution type
        const executionType = oneProject.Execution_type.execution_type? oneProject.Execution_type.execution_type : 'Not specified';
        document.getElementById('executionType').textContent = executionType;
        document.getElementById('projectBadge1').textContent = executionType;
        console.log("------oneProject.Execution_type?.execution_type-------", oneProject.Execution_type?.execution_type)
        // Set volunteers needed
        document.getElementById('volunteersNeeded').textContent = oneProject.num_voliunteers || 'Not specified';
        
        // Set project status
        const status = oneProject.available ? 'Available' : 'Full';
        document.getElementById('projectStatus').textContent = status;
        
        // Set conditions
        document.getElementById('projectConditions').textContent = oneProject.conditions || 'No special conditions.';
        
        // Set contact info
        const contactInfo = `
          <i class="fa fa-user mr-2"></i> ${oneProject.contact_person || 'Project Coordinator'}<br>
          <i class="fa fa-envelope mr-2"></i> ${oneProject.contact_email || 'contact@volunteerhub.org'}<br>
          <i class="fa fa-phone-alt mr-2"></i> ${oneProject.contact_phone || '+90 555 123 4567'}
        `;
        document.getElementById('contactInfo').innerHTML = contactInfo;
        
        // Show project detail section
        document.getElementById('projectDetail').style.display = 'block';
      }

      // Main function to load project details
      async function loadProjectDetails() {
        const projectId = getUrlParameter('id');
        
        if (!projectId) {
          document.getElementById('loadingSpinner').style.display = 'none';
          document.getElementById('errorMessage').style.display = 'block';
          return;
        }
        
        try {
          const project = await fetchProjectDetails(projectId);
          document.getElementById('loadingSpinner').style.display = 'none';
          displayProjectDetails(project);
        } catch (error) {
          console.error('Error loading project details:', error);
          document.getElementById('loadingSpinner').style.display = 'none';
          document.getElementById('errorMessage').style.display = 'block';
        }
      }

      // Initialize when page loads
      document.addEventListener('DOMContentLoaded', loadProjectDetails);
    </script>
  </body>
</html>